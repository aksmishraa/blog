<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Maximum Subarray | Nine notes</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/blog/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Maximum Subarray</h1><a id="logo" href="/blog/.">Nine notes</a><p class="description">Live long and prosper</p></div><div id="nav-menu"><a href="/blog/." class="current"><i class="fa fa-home"> Home</i></a><a href="/blog/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/blog/about/"><i class="fa fa-user"> About</i></a><a href="/blog/atom.xml"><i class="fa icon-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Maximum Subarray</h1><div class="post-meta">Feb 13, 2016<span> | </span><span class="category"><a href="/blog/categories/Leetcode/">Leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="Maximum_Subarray/" href="/blog/Maximum_Subarray/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>Find the contiguous subarray within an array (containing at least one number) which has the largest sum.</p>
<p>For example, given the array [−2,1,−3,4,−1,2,1,−5,4],<br>the contiguous subarray [4,−1,2,1] has the largest sum = 6.</p>
<h3 id="DP_solution_2C_O_28n_29_time"><a href="#DP_solution_2C_O_28n_29_time" class="headerlink" title="DP solution, O(n) time"></a>DP solution, O(n) time</h3><blockquote>
<p>this problem was discussed by Jon Bentley (Sep. 1984 Vol. 27 No. 9 Communications of the ACM P885)</p>
<p>the paragraph below was copied from his paper (with a little modifications)</p>
<p>algorithm that operates on arrays: it starts at the left end (element A[1]) and scans through to the right end (element A[n]), keeping track of the maximum sum subvector seen so far. The maximum is initially A[0]. Suppose we’ve solved the problem for A[1 .. i - 1]; how can we extend that to A[1 .. i]? The maximum sum in the first I elements is either the maximum sum in the first i - 1 elements (which we’ll call MaxSoFar), or it is that of a subvector that ends in position i (which we’ll call MaxEndingHere).</p>
<p>MaxEndingHere is either A[i] plus the previous MaxEndingHere, or just A[i], whichever is larger.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n];<span class="comment">//dp[i] means the maximum subarray ending with A[i];</span></span><br><span class="line">        dp[<span class="number">0</span>] = A[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> max = dp[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">            dp[i] = A[i] + (dp[i - <span class="number">1</span>] &gt; <span class="number">0</span> ? dp[i - <span class="number">1</span>] : <span class="number">0</span>);</span><br><span class="line">            max = Math.max(max, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">1</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> maxSoFar = nums[<span class="number">0</span>], maxEndHere = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">            maxEndHere = Math.max(maxEndHere + nums[i], nums[i]);</span><br><span class="line">            maxSoFar = Math.max(maxSoFar, maxEndHere);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> maxSoFar;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Divide_and_Conquer"><a href="#Divide_and_Conquer" class="headerlink" title="Divide and Conquer"></a>Divide and Conquer</h3><p>From the <a href="https://leetcode.com/discuss/694/how-solve-maximum-subarray-using-divide-and-conquer-approach" target="_blank" rel="external">post</a></p>
<blockquote>
<p>Step1. Select the middle element of the array. So the maximum subarray may contain that middle element or not.</p>
<p>Step 2.1 If the maximum subarray does not contain the middle element, then we can apply the same algorithm to the the subarray to the left of the middle element and the subarray to the right of the middle element.</p>
<p>Step 2.2 If the maximum subarray does contain the middle element, then the result will be simply the maximum suffix subarray of the left subarray plus the maximum prefix subarray of the right subarray</p>
<p>Step 3 return the maximum of those three answer.</p>
<p>The recurrence is: T(n) = 2T(n / 2) + O(1). So the running time of this algorithm is O(n).</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// IMPORTANT: Please reset any member data you declared, as</span></span><br><span class="line">        <span class="comment">// the same Solution instance will be reused for each test case.</span></span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> maxSubArrayHelperFunction(A,<span class="number">0</span>,n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSubArrayHelperFunction</span><span class="params">(<span class="keyword">int</span> A[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(right == left) <span class="keyword">return</span> A[left];</span><br><span class="line">        <span class="keyword">int</span> middle = (left+right)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> leftans = maxSubArrayHelperFunction(A, left, middle);</span><br><span class="line">        <span class="keyword">int</span> rightans = maxSubArrayHelperFunction(A, middle+<span class="number">1</span>, right);</span><br><span class="line">        <span class="keyword">int</span> leftmax = A[middle];</span><br><span class="line">        <span class="keyword">int</span> rightmax = A[middle+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=middle;i&gt;=left;i--) &#123;</span><br><span class="line">            temp += A[i];</span><br><span class="line">            <span class="keyword">if</span>(temp &gt; leftmax) leftmax = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=middle+<span class="number">1</span>;i&lt;=right;i++) &#123;</span><br><span class="line">            temp += A[i];</span><br><span class="line">            <span class="keyword">if</span>(temp &gt; rightmax) rightmax = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max(max(leftans, rightans),leftmax+rightmax);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/blog/js/share.js?v=0.0.0" async></script><a data-url="http://ninefu.github.io/blog/Maximum_Subarray/" data-id="cisdrcsx300534wsnme2r5mzn" class="article-share-link">Share</a><div class="tags"><a href="/blog/tags/Array/">Array</a><a href="/blog/tags/Divide-and-Conquer/">Divide and Conquer</a><a href="/blog/tags/Dynamic-Programming/">Dynamic Programming</a><a href="/blog/tags/Leetcode/">Leetcode</a></div><div class="post-nav"><a href="/blog/Maximum_Product_Subarray/" class="pre">Maximum Product Subarray</a><a href="/blog/Gas_Station/" class="next">Gas Station</a></div><div id="disqus_thread"><script>var disqus_shortname = 'ninenotes';
var disqus_identifier = 'Maximum_Subarray/';
var disqus_title = 'Maximum Subarray';
var disqus_url = 'http://ninefu.github.io/blog/Maximum_Subarray/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ninenotes.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><input placeholder="Search" type="text" class="st-default-search-input"/></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Distributed-Computing/">Distributed Computing</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Interview/">Interview</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Leetcode/">Leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/System-Design/">System Design</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/blog/tags/Dynamic-Programming/" style="font-size: 15px;">Dynamic Programming</a> <a href="/blog/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/blog/tags/Hash/" style="font-size: 15px;">Hash</a> <a href="/blog/tags/String/" style="font-size: 15px;">String</a> <a href="/blog/tags/System-Design/" style="font-size: 15px;">System Design</a> <a href="/blog/tags/Two-Pointers/" style="font-size: 15px;">Two Pointers</a> <a href="/blog/tags/Sort/" style="font-size: 15px;">Sort</a> <a href="/blog/tags/Design/" style="font-size: 15px;">Design</a> <a href="/blog/tags/Binary-Search/" style="font-size: 15px;">Binary Search</a> <a href="/blog/tags/Reading-List/" style="font-size: 15px;">Reading List</a> <a href="/blog/tags/Math/" style="font-size: 15px;">Math</a> <a href="/blog/tags/Technical-Interview/" style="font-size: 15px;">Technical Interview</a> <a href="/blog/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/blog/tags/DFS/" style="font-size: 15px;">DFS</a> <a href="/blog/tags/Array/" style="font-size: 15px;">Array</a> <a href="/blog/tags/Backtracking/" style="font-size: 15px;">Backtracking</a> <a href="/blog/tags/Bit-Manipulation/" style="font-size: 15px;">Bit Manipulation</a> <a href="/blog/tags/Arrays/" style="font-size: 15px;">Arrays</a> <a href="/blog/tags/Divide-and-Conquer/" style="font-size: 15px;">Divide and Conquer</a> <a href="/blog/tags/Linked-List/" style="font-size: 15px;">Linked List</a> <a href="/blog/tags/Heap/" style="font-size: 15px;">Heap</a> <a href="/blog/tags/TODO/" style="font-size: 15px;">TODO</a> <a href="/blog/tags/Trie/" style="font-size: 15px;">Trie</a> <a href="/blog/tags/Stack/" style="font-size: 15px;">Stack</a> <a href="/blog/tags/Web/" style="font-size: 15px;">Web</a> <a href="/blog/tags/Greedy/" style="font-size: 15px;">Greedy</a> <a href="/blog/tags/Distributed-Computing/" style="font-size: 15px;">Distributed Computing</a> <a href="/blog/tags/BFS/" style="font-size: 15px;">BFS</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/345-Reverse-Vowels-of-a-String/">345.Reverse Vowels of a String</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/344-Reverse-String/">344.Reverse String</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/SmallestAdjacent/">SmallestAdjacent</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/388-Longest-Absolute-File-Path/">Longest Absolute File Path</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/377-Combination-Sum-IV/">377.Combination Sum IV</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/061-Rotate-List/">61.Rotate List' </a></li><li class="post-list-item"><a class="post-list-link" href="/blog/160-Intersection-of-Two-Linked-Lists/">160.Intersection of Two Linked Lists</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/328-Odd-Even-Linked-List/">328.Odd Even Linked List</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/142-Linked-List-Cycle-II/">142.Linked List Cycle II</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/138-Copy-List-with-Random-Pointer/">138.Copy List With Random Pointer</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//ninenotes.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/blog/." rel="nofollow">Nine notes.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/blog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/blog/css/jquery.fancybox.css?v=0.0.0"><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','vXhCs3wBUgya_f_5Usqw','2.0.0');
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-71661570-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=0.0.0"></script></div></body></html>