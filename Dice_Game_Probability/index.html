<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/><meta content="telephone=no" name="format-detection"/><meta name="description"/><title>Dice Game Probability | Nine notes</title><link rel="stylesheet" type="text/css" href="/blog//css/normalize.css"/><link rel="stylesheet" type="text/css" href="/blog//css/pure-min.css"/><link rel="stylesheet" type="text/css" href="/blog//css/grids-responsive-min.css"/><link rel="stylesheet" type="text/css" href="/blog//css/style.css"/><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"/><link rel="alternate" type="application/atom+xml" href="/atom.xml"/></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Dice Game Probability</h1><a id="logo" href="/blog/">Nine notes</a><p class="description">Live long and prosper</p></div><div id="nav-menu"><a href="/" class="current"><i class="icon-home"> Home</i></a><a href="/blog/archives/"><i class="icon-archive"> Archive</i></a><a href="/blog/about/"><i class="icon-about"> About</i></a><a href="/blog/atom.xml"><i class="icon-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">Dice Game Probability</h1><div class="post-meta">2016-01-17 | <span class="categories">Categorized in<a href="/blog/categories/Interview/"> Interview</a></span></div><div class="post-content"><p>You are playing a game of dice with a friend. Your friend will roll one die, and you must pay the hunber of dollars for the number they roll. What should you charge you friend to play this game, if you want to break even in the long run? This value is the “fair value” of the game. It’s easy to see that for a one roll game, the fair value is 3.5</p>
<p>Extend this to a game with up to 2 rolls of the die: you friend can either stop at the first roll, and keep that number, or choose to roll again, but then must take the 2nd number. Assume your friend will take the first roll if the number on the die is more than the fair value if they roll again. Otherwise, they’ll choose to roll again (effectively playing a 1 roll game). What should you charge your friend to play this 2 roll game to break even in the long run.</p>
<p>Extend this to a game with up to N rolls of the die. They can roll again up to N times (each time playing the game with one less roll), but must take the last roll if they choose to roll the last time.</p>
<p>Write a function that computes the “fair value” for an N-roll game, where N is an integer larger than 0.</p>
<p>Here is an example of a 3-roll game, assuming you’ve decide the fair value is <code>$3</code>: Your friend gives you <code>$3</code>. Your friend rolls a 1, and decides to rll again (they know the fair value of a 2 roll game is more than 1). They roll again, this time is a 2; they decided to roll gain since they know that a one roll game’s fair value is 3.5. On the last roll, your friend roll s a 1. So you pay <code>$1</code> and your net gain is <code>$2</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">die_game_fair_value</span><span class="params">(rolls)</span>:</span></span><br><span class="line">	<span class="keyword">if</span> (rolls ==<span class="number">1</span> ):</span><br><span class="line">		<span class="keyword">return</span> int(<span class="number">3.5</span>)</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		array = [<span class="number">3.5</span>]</span><br><span class="line">		i = <span class="number">1</span></span><br><span class="line">		<span class="keyword">while</span> (i &lt; rolls):</span><br><span class="line">			res = int(array[i - <span class="number">1</span>])/<span class="number">6.0</span> * array[i-<span class="number">1</span>] + <span class="number">1</span>/<span class="number">6.0</span> * (<span class="number">6</span>+ int(array[i-<span class="number">1</span>]) + <span class="number">1</span>) * (<span class="number">6</span> - int(array[i-<span class="number">1</span>])) / <span class="number">2.0</span></span><br><span class="line">			array.append(res)</span><br><span class="line">			i += <span class="number">1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> int(array[rolls - <span class="number">1</span>])</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/blog/tags/Technical-Interview/">Technical Interview</a></div><div class="post-nav"><a href="/blog/System_Design_Reading_List/" class="pre"><i class="icon-previous">System Design Reading List</i></a><a href="/blog/3D_Array_Size/" class="next">3D Array Size<i class="icon-next"></i></a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"/><input type="hidden" name="sitesearch" value="ninefu.github.io/blog"/></form></div><div class="widget"><div class="widget-title">Categories</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Interview/">Interview</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Leetcode/">Leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/System-Design/">System Design</a></li></ul></div><div class="widget"><div class="widget-title">Tags</div><div class="tagcloud"><a href="/blog/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/blog/tags/Technical-Interview/" style="font-size: 15px;">Technical Interview</a> <a href="/blog/tags/String/" style="font-size: 15px;">String</a> <a href="/blog/tags/System-Design/" style="font-size: 15px;">System Design</a> <a href="/blog/tags/Stack/" style="font-size: 15px;">Stack</a> <a href="/blog/tags/Two-Pointers/" style="font-size: 15px;">Two Pointers</a> <a href="/blog/tags/Hash/" style="font-size: 15px;">Hash</a> <a href="/blog/tags/Sort/" style="font-size: 15px;">Sort</a> <a href="/blog/tags/Design/" style="font-size: 15px;">Design</a> <a href="/blog/tags/Array/" style="font-size: 15px;">Array</a> <a href="/blog/tags/Reading-List/" style="font-size: 15px;">Reading List</a> <a href="/blog/tags/Math/" style="font-size: 15px;">Math</a> <a href="/blog/tags/Bit/" style="font-size: 15px;">Bit</a> <a href="/blog/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/blog/tags/DFS/" style="font-size: 15px;">DFS</a> <a href="/blog/tags/Linked-List/" style="font-size: 15px;">Linked List</a> <a href="/blog/tags/Dynamic-Programming/" style="font-size: 15px;">Dynamic Programming</a> <a href="/blog/tags/Backtracking/" style="font-size: 15px;">Backtracking</a> <a href="/blog/tags/Divide-and-Conquer/" style="font-size: 15px;">Divide and Conquer</a> <a href="/blog/tags/Binary-Search/" style="font-size: 15px;">Binary Search</a> <a href="/blog/tags/Hashtable/" style="font-size: 15px;">Hashtable</a> <a href="/blog/tags/TODO/" style="font-size: 15px;">TODO</a> <a href="/blog/tags/Web/" style="font-size: 15px;">Web</a> <a href="/blog/tags/Greedy/" style="font-size: 15px;">Greedy</a> <a href="/blog/tags/BFS/" style="font-size: 15px;">BFS</a></div></div><div class="widget"><div class="widget-title">Recent</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/Binary_Tree_Level_Order_Traversal/">Binary Tree Level Order Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Lowest_Common_Ancestor_of_a_Binary_Tree/">Lowest Common Ancestor of a Binary Tree</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Lowest_Common_Ancestor_of_a_Binary_Search_Tree/">Lowest Common Ancestor of a Binary Search Tree</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Valid_Palindrome/">Valid Palindrome</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/House_Robber/">House Robber</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Product_of_Array_Except_Self/">Product of Array Except Self</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Maximum_Product_Subarray/">Maximum Product Subarray</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Maximum_Subarray/">Maximum Subarray</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Gas_Station/">Gas Station</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Rectangle_Area/">Rectangle Area</a></li></ul></div><div class="widget"><div class="widget-title">Blogroll</div></div></div></div></div><div id="footer">© <a href="/" rel="nofollow">Nine notes.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script src="/blog//js/jquery.min.js" type="text/javascript"></script>
<script src="/blog//js/totop.js" type="text/javascript"></script><script src="/blog//js/fancybox.pack.js" type="text/javascript"></script>
<script src="/blog//js/jquery.fancybox.js" type="text/javascript"></script><link rel="stylesheet" href="/blog//css/jquery.fancybox.css" type="text/css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-71661570-1','auto');ga('send','pageview');
</script></div></body></html>