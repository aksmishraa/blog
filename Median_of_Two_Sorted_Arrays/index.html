<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Median of Two Sorted Arrays | Nine notes</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/blog/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Median of Two Sorted Arrays</h1><a id="logo" href="/blog/.">Nine notes</a><p class="description">Live long and prosper</p></div><div id="nav-menu"><a href="/blog/." class="current"><i class="fa fa-home"> Home</i></a><a href="/blog/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/blog/about/"><i class="fa fa-user"> About</i></a><a href="/blog/atom.xml"><i class="fa icon-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Median of Two Sorted Arrays</h1><div class="post-meta">Jan 1, 2016<span> | </span><span class="category"><a href="/blog/categories/Leetcode/">Leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="Median_of_Two_Sorted_Arrays/" href="/blog/Median_of_Two_Sorted_Arrays/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>There are two sorted arrays nums1 and nums2 of size m and n respectively. Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p>
<a id="more"></a>
<p>Compare the median of nums1 and nums2. If nums1’s median is smaller than nums2’s median, then compare the right half of nums1 and the left half of nums2 for the next iteration, or vice versa. Do this recursively until k = 1.</p>
<p>Time complexity O(log(m+n))</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = nums1.length, n = nums2.length;</span><br><span class="line">        <span class="keyword">int</span> l = (m + n + <span class="number">1</span>)/<span class="number">2</span>, r = (m + n + <span class="number">2</span>)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> (getKth(nums1,<span class="number">0</span>,nums2,<span class="number">0</span>,l) + getKth(nums1,<span class="number">0</span>,nums2,<span class="number">0</span>,r))/<span class="number">2.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getKth</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> aStart, <span class="keyword">int</span>[] b, <span class="keyword">int</span> bStart, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (aStart &gt; a.length - <span class="number">1</span>)&#123;<span class="keyword">return</span> b[bStart + k - <span class="number">1</span>];&#125;</span><br><span class="line">        <span class="keyword">if</span> (bStart &gt; b.length - <span class="number">1</span>)&#123;<span class="keyword">return</span> a[aStart + k - <span class="number">1</span>];&#125;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">1</span>)&#123;<span class="keyword">return</span> Math.min(a[aStart],b[bStart]);&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> aMid = Integer.MAX_VALUE, bMid = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">if</span> ((aStart + k/<span class="number">2</span> - <span class="number">1</span>) &lt; a.length) aMid = a[aStart + k/<span class="number">2</span> - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> ((bStart + k/<span class="number">2</span> - <span class="number">1</span>) &lt; b.length) bMid = b[bStart + k/<span class="number">2</span> - <span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (aMid &lt; bMid)&#123;</span><br><span class="line">            <span class="keyword">return</span> getKth(a, aStart + k/<span class="number">2</span>, b, bStart, k-k/<span class="number">2</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> getKth(a, aStart, b, bStart + k/<span class="number">2</span>, k-k/<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or an O(log(min(m,n))) iterative solution (<a href="https://leetcode.com/discuss/41621/very-concise-iterative-solution-with-detailed-explanation" target="_blank" rel="external">explanation</a>)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums1, vector&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N1 = nums1.size();</span><br><span class="line">    <span class="keyword">int</span> N2 = nums2.size();</span><br><span class="line">    <span class="keyword">if</span> (N1 &lt; N2) <span class="keyword">return</span> findMedianSortedArrays(nums2, nums1);   <span class="comment">// Make sure A2 is the shorter one.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (N2 == <span class="number">0</span>) <span class="keyword">return</span> ((<span class="keyword">double</span>)nums1[(N1-<span class="number">1</span>)/<span class="number">2</span>] + (<span class="keyword">double</span>)nums1[N1/<span class="number">2</span>])/<span class="number">2</span>;  <span class="comment">// If A2 is empty</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>, hi = N2 * <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt;= hi) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid2 = (lo + hi) / <span class="number">2</span>;   <span class="comment">// Try Cut 2 </span></span><br><span class="line">        <span class="keyword">int</span> mid1 = N1 + N2 - mid2;  <span class="comment">// Calculate Cut 1 accordingly</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> L1 = (mid1 == <span class="number">0</span>) ? INT_MIN : nums1[(mid1-<span class="number">1</span>)/<span class="number">2</span>];  <span class="comment">// Get L1, R1, L2, R2 respectively</span></span><br><span class="line">        <span class="keyword">double</span> L2 = (mid2 == <span class="number">0</span>) ? INT_MIN : nums2[(mid2-<span class="number">1</span>)/<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">double</span> R1 = (mid1 == N1 * <span class="number">2</span>) ? INT_MAX : nums1[(mid1)/<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">double</span> R2 = (mid2 == N2 * <span class="number">2</span>) ? INT_MAX : nums2[(mid2)/<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (L1 &gt; R2) lo = mid2 + <span class="number">1</span>;     <span class="comment">// A1's lower half is too big; need to move C1 left (C2 right)</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (L2 &gt; R1) hi = mid2 - <span class="number">1</span>;    <span class="comment">// A2's lower half too big; need to move C2 left.</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> (max(L1,L2) + min(R1, R2)) / <span class="number">2</span>; <span class="comment">// Otherwise, that's the right cut.</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><script type="text/javascript" src="/blog/js/share.js?v=0.0.0" async></script><a data-url="http://ninefu.github.io/blog/Median_of_Two_Sorted_Arrays/" data-id="cino1jzsa0065v8ltuo28yv5t" class="article-share-link">Share</a><div class="tags"><a href="/blog/tags/Array/">Array</a><a href="/blog/tags/Binary-Search/">Binary Search</a><a href="/blog/tags/Divide-and-Conquer/">Divide and Conquer</a><a href="/blog/tags/Leetcode/">Leetcode</a></div><div class="post-nav"><a href="/blog/Nim_Game/" class="pre">Nim Game</a><a href="/blog/Longest_Substring_Without_Repeating_Characters/" class="next">Longest Substring Without Repeating Characters</a></div><div id="disqus_thread"><script>var disqus_shortname = 'ninenotes';
var disqus_identifier = 'Median_of_Two_Sorted_Arrays/';
var disqus_title = 'Median of Two Sorted Arrays';
var disqus_url = 'http://ninefu.github.io/blog/Median_of_Two_Sorted_Arrays/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ninenotes.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><input placeholder="Search" type="text" class="st-default-search-input"/></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Interview/">Interview</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Leetcode/">Leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/System-Design/">System Design</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/blog/tags/Bit/" style="font-size: 15px;">Bit</a> <a href="/blog/tags/Technical-Interview/" style="font-size: 15px;">Technical Interview</a> <a href="/blog/tags/String/" style="font-size: 15px;">String</a> <a href="/blog/tags/System-Design/" style="font-size: 15px;">System Design</a> <a href="/blog/tags/Stack/" style="font-size: 15px;">Stack</a> <a href="/blog/tags/Two-Pointers/" style="font-size: 15px;">Two Pointers</a> <a href="/blog/tags/Hash/" style="font-size: 15px;">Hash</a> <a href="/blog/tags/Sort/" style="font-size: 15px;">Sort</a> <a href="/blog/tags/Design/" style="font-size: 15px;">Design</a> <a href="/blog/tags/Array/" style="font-size: 15px;">Array</a> <a href="/blog/tags/Binary-Search/" style="font-size: 15px;">Binary Search</a> <a href="/blog/tags/Reading-List/" style="font-size: 15px;">Reading List</a> <a href="/blog/tags/Math/" style="font-size: 15px;">Math</a> <a href="/blog/tags/Bit-Manipulation/" style="font-size: 15px;">Bit Manipulation</a> <a href="/blog/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/blog/tags/Tree/" style="font-size: 15px;">Tree</a> <a href="/blog/tags/DFS/" style="font-size: 15px;">DFS</a> <a href="/blog/tags/Linked-List/" style="font-size: 15px;">Linked List</a> <a href="/blog/tags/Dynamic-Programming/" style="font-size: 15px;">Dynamic Programming</a> <a href="/blog/tags/Backtracking/" style="font-size: 15px;">Backtracking</a> <a href="/blog/tags/Arrays/" style="font-size: 15px;">Arrays</a> <a href="/blog/tags/Divide-and-Conquer/" style="font-size: 15px;">Divide and Conquer</a> <a href="/blog/tags/Heap/" style="font-size: 15px;">Heap</a> <a href="/blog/tags/Hashtable/" style="font-size: 15px;">Hashtable</a> <a href="/blog/tags/TODO/" style="font-size: 15px;">TODO</a> <a href="/blog/tags/Trie/" style="font-size: 15px;">Trie</a> <a href="/blog/tags/Web/" style="font-size: 15px;">Web</a> <a href="/blog/tags/Greedy/" style="font-size: 15px;">Greedy</a> <a href="/blog/tags/BFS/" style="font-size: 15px;">BFS</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/Peekable-Iterator/">Peekable Iterator</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Max-Root-to-Leaf-Sum/">Max Root to Leaf Sum</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Merge-Two-Sorted-Lists/">Merge Two Sorted Lists</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Merge-k-Sorted-Lists/">Merge K Sorted Lists</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Missing_Number/">Missing Number</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Candy/">Candy</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Add_and_Search_Word_Data_structure_design/">Add and Search Word - Data Structure Design</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Implement_Trie_Prefix_Tree/">Implement Trie (Prefix Tree)</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Two_Sum_II_Input_array_is_sorted/">Two Sum II - Input Array Is Sorted</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/Closest_Binary_Search_Tree_Value/">Closest Binary Search Tree Value</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//ninenotes.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/blog/." rel="nofollow">Nine notes.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/blog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/blog/css/jquery.fancybox.css?v=0.0.0"><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','vXhCs3wBUgya_f_5Usqw','2.0.0');
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-71661570-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=0.0.0"></script></div></body></html>